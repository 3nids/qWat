<!-- $Header: /cvsroot/autodoc/autodoc/html.tmpl,v 1.4 2006/05/16 19:01:27 rbt Exp $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <title>Index for sige</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style type="text/css">
	BODY {
		color:	#000000;
		background-color: #FFFFFF;
		font-family: Helvetica, sans-serif;
	}

	P {
		margin-top: 5px;
		margin-bottom: 5px;
	}

	P.w3ref {
		font-size: 8pt;
		font-style: italic;
		text-align: right;
	}

	P.detail {
		font-size: 10pt;
	}

	.error {
		color: #FFFFFF;
		background-color: #FF0000;
	}

	H1, H2, H3, H4, H5, H6 {
	}

	OL {
		list-style-type: upper-alpha;
	}

	UL.topic {
		list-style-type: upper-alpha;
	}

	LI.topic {
		font-weight : bold;
	}

	HR {
		color: #00FF00;
		background-color: #808080;
	}

	TABLE {
		border-width: medium;
		padding: 3px;
		background-color: #000000;
		width: 90%;
	}

	CAPTION {
		text-transform: capitalize;
		font-weight : bold;
		font-size: 14pt;
	}

	TH {
		color: #FFFFFF;
		background-color: #000000;
		text-align: left;
	}

	TR {
		color: #000000;
		background-color: #000000;
		vertical-align: top;
	}

	TR.tr0 {
		background-color: #F0F0F0;
	}

	TR.tr1 {
		background-color: #D8D8D8;
	}

	TD {
		font-size: 12pt;
	}

	TD.col0 {
		font-weight : bold;
		width: 20%;
	}

	TD.col1 {
		font-style: italic;
		width: 15%;
	}

	TD.col2 {
		font-size: 12px;
	}
    </style>
    <link rel="stylesheet" type="text/css" media="all" href="all.css">
    <link rel="stylesheet" type="text/css" media="screen" href="screen.css">
    <link rel="stylesheet" type="text/css" media="print" href="print.css">
    <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
  </head>
  <body>

    <!-- Primary Index -->
	<p><br><br>Dumped on 2013-02-04</p>
<h1><a name="index">Index of database - sige</a></h1>
<ul>
    
    <li><a name="distribution.schema">distribution</a></li><ul>
    	<li><a href="#distribution.table.dimension">dimension</a></li><li><a href="#distribution.view.dimension-view">dimension_view</a></li><li><a href="#distribution.table.distributor">distributor</a></li><li><a href="#distribution.table.district">district</a></li><li><a href="#distribution.table.hydrant">hydrant</a></li><li><a href="#distribution.table.hydrant-provider">hydrant_provider</a></li><li><a href="#distribution.table.hydrant-type">hydrant_type</a></li><li><a href="#distribution.view.hydrant-view">hydrant_view</a></li><li><a href="#distribution.table.installation">installation</a></li><li><a href="#distribution.table.installation-tank">installation_tank</a></li><li><a href="#distribution.table.installation-tank-cistern">installation_tank_cistern</a></li><li><a href="#distribution.table.installation-tank-cistern-type">installation_tank_cistern_type</a></li><li><a href="#distribution.table.installation-type">installation_type</a></li><li><a href="#distribution.view.installation-view">installation_view</a></li><li><a href="#distribution.table.node">node</a></li><li><a href="#distribution.view.node-control">node_control</a></li><li><a href="#distribution.table.pipe">pipe</a></li><li><a href="#distribution.view.pipe-child-parent">pipe_child_parent</a></li><li><a href="#distribution.table.pipe-function">pipe_function</a></li><li><a href="#distribution.table.pipe-install-method">pipe_install_method</a></li><li><a href="#distribution.table.pipe-material">pipe_material</a></li><li><a href="#distribution.table.pipe-protection">pipe_protection</a></li><li><a href="#distribution.view.pipe-schema">pipe_schema</a></li><li><a href="#distribution.view.pipe-schema-error">pipe_schema_error</a></li><li><a href="#distribution.view.pipe-schema-items">pipe_schema_items</a></li><li><a href="#distribution.view.pipe-schema-merged">pipe_schema_merged</a></li><li><a href="#distribution.view.pipe-schema-node">pipe_schema_node</a></li><li><a href="#distribution.table.pipe-schema-temp">pipe_schema_temp</a></li><li><a href="#distribution.view.pipe-schema-viewableitems">pipe_schema_viewableitems</a></li><li><a href="#distribution.view.pipe-view">pipe_view</a></li><li><a href="#distribution.table.precision">precision</a></li><li><a href="#distribution.table.pressurezone">pressurezone</a></li><li><a href="#distribution.table.printmap">printmap</a></li><li><a href="#distribution.table.protectionzone">protectionzone</a></li><li><a href="#distribution.table.protectionzone-type">protectionzone_type</a></li><li><a href="#distribution.table.samplingpoint">samplingpoint</a></li><li><a href="#distribution.view.samplingpoint-view">samplingpoint_view</a></li><li><a href="#distribution.view.search-view">search_view</a></li><li><a href="#distribution.table.status">status</a></li><li><a href="#distribution.table.subscriber">subscriber</a></li><li><a href="#distribution.table.subscriber-type">subscriber_type</a></li><li><a href="#distribution.view.subscriber-view">subscriber_view</a></li><li><a href="#distribution.table.valve">valve</a></li><li><a href="#distribution.table.valve-function">valve_function</a></li><li><a href="#distribution.table.valve-maintenance">valve_maintenance</a></li><li><a href="#distribution.view.valve-schema">valve_schema</a></li><li><a href="#distribution.table.valve-type">valve_type</a></li><li><a href="#distribution.view.valve-view">valve_view</a></li><li><a href="#distribution.table.visible">visible</a></li>
  	<li><a href="#distribution.function.dimension-geom">dimension_geom()</a></li><li><a href="#distribution.function.geom-tool-line-character-varying">geom_tool_line(character varying)</a></li><li><a href="#distribution.function.geom-tool-point-create-schematic-character-varying-create-node-boolean-is-node-boolean-table-name-boolean">geom_tool_point(create_schematic character varying, create_node boolean, is_node boolean, table_name boolean)</a></li><li><a href="#distribution.function.get-district-id-public.geometry">get_district_id(public.geometry)</a></li><li><a href="#distribution.function.get-districts-public.geometry">get_districts(public.geometry)</a></li><li><a href="#distribution.function.get-parent-integer-integer">get_parent(integer, integer)</a></li><li><a href="#distribution.function.get-pressurezone-id-public.geometry">get_pressurezone_id(public.geometry)</a></li><li><a href="#distribution.function.get-printmap-id-public.geometry">get_printmap_id(public.geometry)</a></li><li><a href="#distribution.function.get-printmaps-public.geometry">get_printmaps(public.geometry)</a></li><li><a href="#distribution.function.hydrant-geom">hydrant_geom()</a></li><li><a href="#distribution.function.installation-geom">installation_geom()</a></li><li><a href="#distribution.function.node-altitude">node_altitude()</a></li><li><a href="#distribution.function.node-geom">node_geom()</a></li><li><a href="#distribution.function.node-get-id-public.geometry-boolean">node_get_id(public.geometry, boolean)</a></li><li><a href="#distribution.function.node-set-type">node_set_type()</a></li><li><a href="#distribution.function.node-type-integer">node_type(integer)</a></li><li><a href="#distribution.function.pipe-count-valve-integer">pipe_count_valve(integer)</a></li><li><a href="#distribution.function.pipe-geom">pipe_geom()</a></li><li><a href="#distribution.function.pipe-get-id-public.geometry">pipe_get_id(public.geometry)</a></li><li><a href="#distribution.function.pipe-isclosed-integer">pipe_isclosed(integer)</a></li><li><a href="#distribution.function.pipe-length3d">pipe_length3d()</a></li><li><a href="#distribution.function.pipe-material-fancy-name">pipe_material_fancy_name()</a></li><li><a href="#distribution.function.pipe-tunnelbridge">pipe_tunnelbridge()</a></li><li><a href="#distribution.function.printmap-geom">printmap_geom()</a></li><li><a href="#distribution.function.samplingpoint-geom">samplingpoint_geom()</a></li><li><a href="#distribution.function.subscriber-geom">subscriber_geom()</a></li><li><a href="#distribution.function.table-fields-character-varying">table_fields(character varying)</a></li><li><a href="#distribution.function.table-fields-exclude-character-varying-character-varyingARRAY">table_fields(exclude character varying,  character varying[])</a></li><li><a href="#distribution.function.valve-geom">valve_geom()</a></li>
    </ul>
    
</ul>

    <!-- Schema Creation -->
    <!-- distributiondistribution -->

		
		
        <hr>
		<h2>Table:
			<a name="distribution.table.dimension">dimension</a>
		</h2>
        
         <p>dimension arcs displays measures done on the field. For example: distances to buildings corner</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>dimension Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>distance_observed</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_distance_terrain</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>lbl_x</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>lbl_y</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>lbl_a</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(MultiPoint,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       dimension_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.dimension-view">dimension_view</a>
		</h2>
        
         <p>Creates a Linestring so it can be viewed in QGIS as a curve. Later, this view should be remove and the new geometry transformed to CIRCULARSTRING.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>dimension_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>distance_observed</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_distance_terrain</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>lbl_x</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>lbl_y</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>lbl_a</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT dimension.id
, dimension.distance_observed
, dimension._distance_terrain
, dimension.lbl_x
, dimension.lbl_y
, dimension.lbl_a
, (st_curvetoline
     (st_geomfromewkt
           (
                 (
                       (
                             (
                                   (
                                         (
                                               (
                                                     (
                                                           (
                                                                 (
                                                                       (
                                                                             (
                                                                                   (
                                                              &#39;SRID=21781;CIRCULARSTRING(&#39;::text || st_x
                                                                                               (st_geometryn
                                                                                                     (dimension.geometry
                                                                                                           , 1
                                                                                                     )
                                                                                               )
                                                                                         ) || &#39; &#39;::text
                                                                                   ) || st_y
                                                                                   (st_geometryn
                                                                                         (dimension.geometry
                                                                                               , 1
                                                                                         )
                                                                                   )
                                                                             ) || 
                                                                           &#39;,&#39;::text
                                                                       ) || st_x
                                                                       (st_geometryn
                                                                             (dimension.geometry
                                                                                   , 2
                                                                             )
                                                                       )
                                                                 ) || &#39; &#39;::text
                                                           ) || st_y
                                                           (st_geometryn
                                                                 (dimension.geometry
                                                                       , 2
                                                                 )
                                                           )
                                                     ) || 
                                                   &#39;,&#39;::text
                                               ) || st_x
                                               (st_geometryn
                                                     (dimension.geometry
                                                           , 3
                                                     )
                                               )
                                         ) || &#39; &#39;::text
                                   ) || st_y
                                   (st_geometryn
                                         (dimension.geometry
                                               , 3
                                         )
                                   )
                             ) || 
                     &#39;)&#39;::text
                 )
           )
           , 12
     )
)::geometry
(LineString
     ,21781
) AS geometry 
FROM distribution.dimension;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.distributor">distributor</a>
		</h2>
        
         <p>Companies and distributors list.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>distributor Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation">installation</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation-tank">installation_tank</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation-tank-cistern">installation_tank_cistern</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.district">district</a>
		</h2>
        
         <p>Districts.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>district Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(40)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>shortname</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zip</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>land_registry</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>subscriber_prefix</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Polygon,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>district Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>district_nooverlap</td>
                <td>CHECK ((st_overlaps(geometry, geometry) IS FALSE))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation">installation</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.samplingpoint">samplingpoint</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.subscriber">subscriber</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.valve">valve</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       district_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.hydrant">hydrant</a>
		</h2>
        
         <p>hydrant.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>hydrant Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>character varying(15)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.hydrant-type">hydrant_type.id</a>
                  
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.distributor">distributor.id</a>
                  
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.status">status.id</a>
                  
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.hydrant-provider">hydrant_provider.id</a>
                  
                
                </td>
            	<td>id_provider</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>model</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.node">node.id</a>
                  
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.district">district.id</a>
                  
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pressurezone">pressurezone.id</a>
                  
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry_schematic</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>hydrant Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>hydrant_year_check</td>
                <td>CHECK (((year &gt; 1800) AND (year &lt; 2100)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_hydrant_id_distributor id_distributor
    
       fki_hydrant_id_district id_district
    
       fki_hydrant_id_node id_node
    
       fki_hydrant_id_pressurezone id_pressurezone
    
       fki_hydrant_id_provider id_provider
    
       fki_hydrant_id_status id_status
    
       fki_hydrant_id_type id_type
    
       hydrant_geoidx geometry
    
       hydrant_geoidx_sch geometry_schematic
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.hydrant-provider">hydrant_provider</a>
		</h2>
        
         <p>hydrant providers list.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>hydrant_provider Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.hydrant-type">hydrant_type</a>
		</h2>
        
         <p>type for hydrant.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>hydrant_type Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>shortname</td>
            	<td>character varying(12)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.hydrant-view">hydrant_view</a>
		</h2>
        
         <p>View for hydrant. This view is editable (a rule exists to forwad changes to the table).</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>hydrant_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>character varying(15)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_provider</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>model</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_type</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_distributor</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_provider</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_altitude_dtm</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_district</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_district_shortname</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT hydrant.id
, hydrant.sige
, hydrant.id_type
, hydrant.id_distributor
, hydrant.id_status
, hydrant.id_provider
, hydrant.year
, hydrant.model
, hydrant.altitude_real
, hydrant.remarks
, hydrant.id_node
, hydrant.id_district
, hydrant.id_pressurezone
, hydrant.id_printmap
, hydrant._printmaps
, hydrant._districts
, hydrant.geometry
, hydrant_type.name AS _type
, distributor.name AS _distributor
, status.name AS _status_name
, status.active AS _status_active
, hydrant_provider.name AS _provider
, node.altitude_dtm AS _altitude_dtm
, district.name AS _district
, district.shortname AS _district_shortname
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode 
FROM (
     (
           (
                 (
                       (
                             (
                                   (distribution.hydrant 
                                      JOIN distribution.hydrant_type 
                                        ON (
                                               (hydrant.id_type = hydrant_type.id)
                                         )
                                   )
                                JOIN distribution.distributor 
                                  ON (
                                         (hydrant.id_distributor = distributor.id)
                                   )
                             )
                          JOIN distribution.status 
                            ON (
                                   (hydrant.id_status = status.id)
                             )
                       )
               LEFT JOIN distribution.hydrant_provider 
                      ON (
                             (hydrant.id_provider = hydrant_provider.id)
                       )
                 )
         LEFT JOIN distribution.node 
                ON (
                       (hydrant.id_node = node.id)
                 )
           )
   LEFT JOIN distribution.district 
          ON (
                 (hydrant.id_district = district.id)
           )
     )
LEFT JOIN distribution.pressurezone 
    ON (
           (hydrant.id_pressurezone = pressurezone.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.installation">installation</a>
		</h2>
        
         <p>installation.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>installation Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				DEFAULT &#39;&#39;::character varying
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.status">status.id</a>
                  
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.distributor">distributor.id</a>
                  
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.installation-type">installation_type.id</a>
                  
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>links</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>open_water_surface</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parcel</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>eca</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.node">node.id</a>
                  
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.district">district.id</a>
                  
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pressurezone">pressurezone.id</a>
                  
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry_schematic</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>installation Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>installation_year_check</td>
                <td>CHECK (((year &gt; 1800) AND (year &lt; 2100)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.installation-tank">installation_tank</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation-tank-cistern">installation_tank_cistern</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       fki_installation_id_distributor id_distributor
    
       fki_installation_id_district id_district
    
       fki_installation_id_node id_node
    
       fki_installation_id_pressurezone id_pressurezone
    
       fki_installation_id_status id_status
    
       fki_installation_id_type id_type
    
       installation_geoidx geometry
    
       installation_geoidx_sch geometry_schematic
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.installation-tank">installation_tank</a>
		</h2>
        
         <p>storage tanks. These are related to installations and are made of cisterns</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>installation_tank Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.installation">installation.id</a>
                  
                
                </td>
            	<td>id_installation</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				DEFAULT &#39;&#39;::character varying
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.distributor">distributor.id</a>
                  
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.status">status.id</a>
                  
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>storage_total</td>
            	<td>numeric(10,1)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>storage_activ</td>
            	<td>numeric(10,1)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>storage_fire</td>
            	<td>numeric(10,1)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>height_max</td>
            	<td>numeric(7,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>litres_per_cm</td>
            	<td>numeric(7,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_installation_tank_id_distributor id_distributor
    
       fki_installation_tank_id_installation id_installation
    
       fki_installation_tank_id_status id_status
    
       installation_tank_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.installation-tank-cistern">installation_tank_cistern</a>
		</h2>
        
         <p>storage tanks. These are related to installations and are made of cisterns</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>installation_tank_cistern Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.installation">installation.id</a>
                  
                
                </td>
            	<td>id_installation</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				DEFAULT &#39;&#39;::character varying
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.distributor">distributor.id</a>
                  
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.status">status.id</a>
                  
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.installation-tank-cistern-type">installation_tank_cistern_type.id</a>
                  
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dimension_1</td>
            	<td>numeric(10,1)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dimension_2</td>
            	<td>numeric(10,1)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>storage</td>
            	<td>numeric(10,1)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>litres_per_cm</td>
            	<td>numeric(7,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_installation_tank_cistern_id_distributor id_distributor
    
       fki_installation_tank_cistern_id_installation id_installation
    
       fki_installation_tank_cistern_id_status id_status
    
       fki_installation_tank_cistern_id_type id_type
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.installation-tank-cistern-type">installation_tank_cistern_type</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>installation_tank_cistern_type Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				DEFAULT &#39;&#39;::character varying
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.installation-tank-cistern">installation_tank_cistern</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.installation-type">installation_type</a>
		</h2>
        
         <p>type for installation.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>installation_type Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>short_name</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.installation">installation</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.installation-view">installation_view</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>installation_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>links</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>open_water_surface</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parcel</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>eca</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_type</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_type_shortname</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_distributor</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_altitude_dtm</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_district</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT installation.id
, installation.name
, installation.sige
, installation.id_status
, installation.id_distributor
, installation.remarks
, installation.links
, installation.year
, installation.altitude_real
, installation.open_water_surface
, installation.parcel
, installation.eca
, installation.id_node
, installation.id_district
, installation.id_pressurezone
, installation.id_printmap
, installation._printmaps
, installation._districts
, installation.geometry
, installation_type.name AS _type
, installation_type.short_name AS _type_shortname
, status.name AS _status
, status.active AS _status_active
, distributor.name AS _distributor
, CASE WHEN 
(installation.schema_force_view IS NULL) THEN installation_type.schema_view ELSE installation.schema_force_view END AS _schema_view
, node.altitude_dtm AS _altitude_dtm
, district.name AS _district
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode 
FROM (
     (
           (
                 (
                       (
                             (distribution.installation 
                                JOIN distribution.installation_type 
                                  ON (
                                         (installation.id_type = installation_type.id)
                                   )
                             )
                          JOIN distribution.status 
                            ON (
                                   (installation.id_status = status.id)
                             )
                       )
               LEFT JOIN distribution.distributor 
                      ON (
                             (installation.id_distributor = distributor.id)
                       )
                 )
         LEFT JOIN distribution.node 
                ON (
                       (installation.id_node = node.id)
                 )
           )
   LEFT JOIN distribution.district 
          ON (
                 (installation.id_district = district.id)
           )
     )
LEFT JOIN distribution.pressurezone 
    ON (
           (installation.id_pressurezone = pressurezone.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.node">node</a>
		</h2>
        
         <p>Nodes. Type:If three pipe or more arrives at the node: three. If one pipe: one. If two: depends on characteristics of pipe: two_same (everything same), two_year (year is different), two_material (and year is/are different), two_diameter (and material/year are different). Orientation is calculated if two pipe arrives to place the symbol in theright direction.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>node Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>altitude_dtm</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_type</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				DEFAULT NULL::character varying
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_orientation</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation">installation</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.valve">valve</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       node_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.node-control">node_control</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>node_control Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>problem</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>comment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
(
     (
           (
                 (
                       (
                        SELECT&#39;Node with undefined type&#39;::text AS problem
                             , node.id
                             ,&#39;node id&#39;::text AS comment 
                          FROM distribution.node 
                         WHERE (node._type IS NULL)
                         UNIONSELECT&#39;Node with no pipe/valve connected&#39;::text AS problem
                             , node.id
                             ,&#39;node id&#39;::text AS comment 
                          FROM distribution.node 
                         WHERE (
                                   (
                                         (NOT 
                                               (node.id IN 
                                                     (
                                                      SELECT DISTINCT pipe.id_node_a 
                                                        FROM distribution.pipe
                                                     )
                                               )
                                         )
                                       AND (NOT 
                                               (node.id IN 
                                                     (
                                                      SELECT DISTINCT pipe.id_node_b 
                                                        FROM distribution.pipe
                                                     )
                                               )
                                         )
                                   )
                                 AND (NOT 
                                         (node.id IN 
                                               (
                                                SELECT DISTINCT valve.id_node 
                                                  FROM distribution.valve
                                               )
                                         )
                                   )
                             )
                       )
                   UNIONSELECT&#39;Pipe with unreferenced node&#39;::text AS problem
                       , pipe.id
                       ,&#39;pipe id&#39;::text AS comment 
                    FROM distribution.pipe 
                   WHERE (
                             (NOT 
                                   (pipe.id_node_a IN 
                                         (
                                          SELECT node.id 
                                            FROM distribution.node
                                         )
                                   )
                             )
                           AND (NOT 
                                   (pipe.id_node_b IN 
                                         (
                                          SELECT node.id 
                                            FROM distribution.node
                                         )
                                   )
                             )
                       )
                 )
             UNIONSELECT&#39;Valve with unreferenced node&#39;::text AS problem
                 , valve.id
                 ,&#39;valve id&#39;::text AS comment 
              FROM distribution.valve 
             WHERE (NOT 
                       (valve.id_node IN 
                             (
                              SELECT node.id 
                                FROM distribution.node
                             )
                       )
                 )
           )
       UNIONSELECT&#39;Too close node&#39;::text AS problem
           , a.id
           , (
                 (
                       (
                             (
                                   (&#39;Distance: &#39;::text || 
                                         (st_distance
                                               (a.geometry
                                                     , b.geometry
                                               )
                                         )::numeric
                                         (6
                                               ,4
                                         )
                                   ) || &#39;Position: &#39;::text
                             ) || st_x
                             (a.geometry)
                       ) || &#39; &#39;::text
                 ) || st_y
                 (a.geometry)
           ) AS comment 
        FROM distribution.node a
           , distribution.node b 
       WHERE (
                 (a.id &lt;&gt; b.id)
               AND st_dwithin
                 (a.geometry
                       , b.geometry
                       , (0.004)::double precision
                 )
           )
     )
 UNIONSELECT&#39;Pipes without node(s)&#39;::text AS problem
, pipe.id
,&#39;pipe id&#39;::text AS comment 
FROM distribution.pipe 
WHERE (
     (pipe.id_node_a IS NULL)
    OR (pipe.id_node_b IS NULL)
)
)     
UNION SELECT&#39;Non up-to-date altitudes&#39;::text AS problem
,      (count
(node.id)
)     ::integer AS id
,     &#39;number of node&#39;::text AS comment 
FROM   distribution.node 
WHERE  (node.altitude_dtm IS NULL)
ORDER BY 1;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pipe">pipe</a>
		</h2>
        
         <p>Table for pipe. This should not be used for editing/viewing, as a more complete view (pipe_view) exists.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.pipe">pipe.id</a>
                  
                
                </td>
            	<td>id_parent</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pipe-function">pipe_function.id</a>
                  
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.pipe-install-method">pipe_install_method.id</a>
                  
                
                </td>
            	<td>id_install_method</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pipe-material">pipe_material.id</a>
                  
                
                </td>
            	<td>id_material</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.distributor">distributor.id</a>
                  
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.precision">precision.id</a>
                  
                
                </td>
            	<td>id_precision</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.pipe-protection">pipe_protection.id</a>
                  
                
                </td>
            	<td>id_protection</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.status">status.id</a>
                  
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>pressure_nominale</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>folder</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				DEFAULT &#39;&#39;::character varying
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.node">node.id</a>
                  
                
                </td>
            	<td>id_node_a</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.node">node.id</a>
                  
                
                </td>
            	<td>id_node_b</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.district">district.id</a>
                  
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pressurezone">pressurezone.id</a>
                  
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry_schematic</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>coating_internal_material_id</td>
            	<td>character(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>coating_external_material_id</td>
            	<td>character(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>pipe Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>pipe_year_check</td>
                <td>CHECK (((year &gt; 1800) AND (year &lt; 2100)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.subscriber">subscriber</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.valve">valve</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       fki_pipe_id_distributor id_distributor
    
       fki_pipe_id_district id_district
    
       fki_pipe_id_function id_function
    
       fki_pipe_id_install_method id_install_method
    
       fki_pipe_id_material id_material
    
       fki_pipe_id_node_a id_node_a
    
       fki_pipe_id_node_b id_node_b
    
       fki_pipe_id_parent id_parent
    
       fki_pipe_id_precision id_precision
    
       fki_pipe_id_pressurezone id_pressurezone
    
       fki_pipe_id_protection id_protection
    
       fki_pipe_id_status id_status
    
       pipe_geoidx geometry
    
       pipe_geoidx_sch geometry_schematic
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-child-parent">pipe_child_parent</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_child_parent Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>child</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>parent</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT foo2.child
, foo2.parent
, (st_curvetoline
     (st_geomfromewkt
           (
                 (
                       (
                             (
                                   (
                                         (
                                               (
                                                     (
                                                           (
                                                                 (
                                                                       (
                                                                             (
                                                                                   (
                                                              &#39;SRID=21781;CIRCULARSTRING(&#39;::text || st_x
                                                                                               (foo2.start_point)
                                                                                         ) || &#39; &#39;::text
                                                                                   ) || st_y
                                                                                   (foo2.start_point)
                                                                             ) || 
                                                                           &#39;,&#39;::text
                                                                       ) || 
                                                                       (st_x
                                                                             (foo2.middle_point) + 
                                                                             (foo2.distance * cos
                                                                                   (foo2.azimuth)
                                                                             )
                                                                       )
                                                                 ) || &#39; &#39;::text
                                                           ) || 
                                                           (st_y
                                                                 (foo2.middle_point) + 
                                                                 (foo2.distance * sin
                                                                       (foo2.azimuth)
                                                                 )
                                                           )
                                                     ) || 
                                                   &#39;,&#39;::text
                                               ) || st_x
                                               (foo2.end_point)
                                         ) || &#39; &#39;::text
                                   ) || st_y
                                   (foo2.end_point)
                             ) || 
                     &#39;)&#39;::text
                 )
           )
           , 15
     )
)::geometry
(LineString
     ,21781
) AS geometry 
FROM (
SELECT foo.child
     , foo.parent
     , foo.start_point
     , foo.end_point
     , (
           (pi
                 () / 
                 (2)::double precision
           ) + st_azimuth
           (foo.start_point
                 , foo.end_point
           )
     ) AS azimuth
     , (
           (0.5)::double precision * st_distance
           (foo.start_point
                 , foo.end_point
           )
     ) AS distance
     , (st_line_interpolate_point
           (st_makeline
                 (foo.start_point
                       , foo.end_point
                 )
                 , (0.5)::double precision
           )
     )::geometry
     (Point
           ,21781
     ) AS middle_point 
  FROM (
      SELECT a.id AS child
           , b.id AS parent
           , (st_line_interpolate_point
                 (a.geometry
                       , (0.5)::double precision
                 )
           )::geometry
           (Point
                 ,21781
           ) AS start_point
           , st_closestpoint
           (st_makeline
                 (
                       (st_line_interpolate_point
                             (b.geometry
                                   , (LEAST
                                         (
                                               (1)::numeric
                                               , (
                                                     (
                                                           (4)::numeric / b._length2d
                                                     ) / 
                                                     (2)::numeric
                                               )
                                         )
                                   )::double precision
                             )
                       )::geometry
                       (Point
                             ,21781
                       )
                       , (st_line_interpolate_point
                             (b.geometry
                                   , (GREATEST
                                         (
                                               (0)::numeric
                                               , (
                                                     (1)::numeric - 
                                                     (
                                                           (
                                                                 (4)::numeric / b._length2d
                                                           ) / 
                                                           (2)::numeric
                                                     )
                                               )
                                         )
                                   )::double precision
                             )
                       )::geometry
                       (Point
                             ,21781
                       )
                 )
                 , a.geometry
           ) AS end_point 
        FROM (distribution.pipe a 
              JOIN distribution.pipe b 
                ON (
                       (a.id_parent = b.id)
                 )
           )
       WHERE (a.id_parent IS NOT NULL)
     ) foo
) foo2;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pipe-function">pipe_function</a>
		</h2>
        
         <p>Function for pipe. Here is determined if pipe should be visible or not in the schematic view, but this can be overidden by the pipe attribute schema_force_view.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_function Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>function</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pipe-install-method">pipe_install_method</a>
		</h2>
        
         <p>Installation methods.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_install_method Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pipe-material">pipe_material</a>
		</h2>
        
         <p>List of materials for pipe. All the possible combinations material/diameter are listed in this table. _fancy_name is automatically generated by rules on insert and update. It is meant to be used in QGIS for the combo box of pipe.id_material</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_material Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>short_name</td>
            	<td>character varying(8)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>diameter</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>diameter_internal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>diameter_external</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_fancy_name</td>
            	<td>character varying(18)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pipe-protection">pipe_protection</a>
		</h2>
        
         <p>Pipes prtoection details.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_protection Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-schema">pipe_schema</a>
		</h2>
        
         <p>Final view for schema</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_parent</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_install_method</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_material</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_precision</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_protection</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>pressure_nominale</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>folder</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_function_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_install_method</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_name</td>
            	<td>character varying(18)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_longname</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_diameter</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_diameter_internal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_distributor</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_precision</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_protection</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_status_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>number_of_pipe</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT pipe_view.id
, pipe_view.id_parent
, pipe_view.id_function
, pipe_view.id_install_method
, pipe_view.id_material
, pipe_view.id_distributor
, pipe_view.id_precision
, pipe_view.id_protection
, pipe_view.id_status
, pipe_view.id_pressurezone
, pipe_view.schema_force_view
, pipe_view.year
, pipe_view.pressure_nominale
, pipe_view.folder
, pipe_view.remarks
, pipe_view.id_printmap
, pipe_view._printmaps
, pipe_view.id_district
, pipe_view._districts
, pipe_view._function_name
, pipe_view._install_method
, pipe_view._material_name
, pipe_view._material_longname
, pipe_view._material_diameter
, pipe_view._material_diameter_internal
, pipe_view._distributor
, pipe_view._precision
, pipe_view._protection
, pipe_view._status_name
, pipe_view._status_active
, pipe_view._pressurezone
, pipe_view._pressurezone_shortname
, pipe_view._consummerzone
, pipe_view._pressurezone_colorcode
, pipe_view._schema_view
, pipe_schema_merged._length2d
, pipe_schema_merged._length3d
, pipe_schema_merged.number_of_pipe
, pipe_schema_merged.tunnel_or_bridge
, pipe_schema_merged._valve_count
, pipe_schema_merged._valve_closed
, pipe_schema_merged.geometry 
FROM (distribution.pipe_schema_merged 
  JOIN distribution.pipe_view 
    ON (
           (pipe_view.id = pipe_schema_merged.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-schema-error">pipe_schema_error</a>
		</h2>
        
         <p>Report IDs of parent pipe where pipe concatenation leads to a MultiLineString and not to a LineString.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema_error Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT foo.id 
FROM (
SELECT pipe_schema_items.groupid AS id
     , (st_multi
           (st_linemerge
                 (st_union
                       (pipe_schema_items.geometry)
                 )
           )
     )::geometry
     (MultiLineString
           ,21781
     ) AS geometry 
  FROM distribution.pipe_schema_items 
GROUP BY pipe_schema_items.groupid
) foo 
WHERE (geometrytype
     (st_collectionhomogenize
           (foo.geometry)
     ) &lt;&gt; &#39;LINESTRING&#39;::text
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-schema-items">pipe_schema_items</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema_items Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>groupid</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT pipe_schema_viewableitems.geometry
, distribution.get_parent
(pipe_schema_viewableitems.id
     , pipe_schema_viewableitems.id_parent
) AS groupid
, pipe_schema_viewableitems._length2d
, pipe_schema_viewableitems._length3d
, pipe_schema_viewableitems.tunnel_or_bridge
, pipe_schema_viewableitems._valve_count
, pipe_schema_viewableitems._valve_closed 
FROM distribution.pipe_schema_viewableitems;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-schema-merged">pipe_schema_merged</a>
		</h2>
        
         <p>Merging of pipe based on the group ID</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema_merged Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>number_of_pipe</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT pipe_schema_items.groupid AS id
, (st_linemerge
     (st_union
           (pipe_schema_items.geometry)
     )
)::geometry
(LineString
     ,21781
) AS geometry
, count
(pipe_schema_items.groupid) AS number_of_pipe
, sum
(pipe_schema_items._length2d) AS _length2d
, sum
(pipe_schema_items._length3d) AS _length3d
, bool_or
(pipe_schema_items.tunnel_or_bridge) AS tunnel_or_bridge
, sum
(pipe_schema_items._valve_count) AS _valve_count
, bool_or
(pipe_schema_items._valve_closed) AS _valve_closed 
FROM distribution.pipe_schema_items 
GROUP BY pipe_schema_items.groupid;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-schema-node">pipe_schema_node</a>
		</h2>
        
         <p>Final view for schema completed with node.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema_node Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_parent</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_install_method</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_material</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_precision</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_protection</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>pressure_nominale</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>folder</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_function_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_install_method</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_name</td>
            	<td>character varying(18)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_longname</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_diameter</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_diameter_internal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_distributor</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_precision</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_protection</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_status_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>number_of_pipe</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node_a</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_node_b</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_diff_elevation</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_slope</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT foo.id
, foo.id_parent
, foo.id_function
, foo.id_install_method
, foo.id_material
, foo.id_distributor
, foo.id_precision
, foo.id_protection
, foo.id_status
, foo.id_pressurezone
, foo.schema_force_view
, foo.year
, foo.pressure_nominale
, foo.folder
, foo.remarks
, foo.id_printmap
, foo._printmaps
, foo.id_district
, foo._districts
, foo._function_name
, foo._install_method
, foo._material_name
, foo._material_longname
, foo._material_diameter
, foo._material_diameter_internal
, foo._distributor
, foo._precision
, foo._protection
, foo._status_name
, foo._status_active
, foo._pressurezone
, foo._pressurezone_shortname
, foo._consummerzone
, foo._pressurezone_colorcode
, foo._schema_view
, foo._length2d
, foo._length3d
, foo.number_of_pipe
, foo.tunnel_or_bridge
, foo._valve_count
, foo._valve_closed
, foo.geometry
, foo.id_node_a
, foo.id_node_b
, CASE WHEN 
(foo.tunnel_or_bridge IS TRUE) THEN NULL::numeric ELSE abs
(
     (node_a.altitude_dtm - node_b.altitude_dtm)
) END AS _diff_elevation
, CASE WHEN 
(foo.tunnel_or_bridge IS TRUE) THEN NULL::numeric ELSE 
(abs
     (
           (node_a.altitude_dtm - node_b.altitude_dtm)
     ) / foo._length3d
) END AS _slope 
FROM (
     (
           (
            SELECT pipe_schema.id
                 , pipe_schema.id_parent
                 , pipe_schema.id_function
                 , pipe_schema.id_install_method
                 , pipe_schema.id_material
                 , pipe_schema.id_distributor
                 , pipe_schema.id_precision
                 , pipe_schema.id_protection
                 , pipe_schema.id_status
                 , pipe_schema.id_pressurezone
                 , pipe_schema.schema_force_view
                 , pipe_schema.year
                 , pipe_schema.pressure_nominale
                 , pipe_schema.folder
                 , pipe_schema.remarks
                 , pipe_schema.id_printmap
                 , pipe_schema._printmaps
                 , pipe_schema.id_district
                 , pipe_schema._districts
                 , pipe_schema._function_name
                 , pipe_schema._install_method
                 , pipe_schema._material_name
                 , pipe_schema._material_longname
                 , pipe_schema._material_diameter
                 , pipe_schema._material_diameter_internal
                 , pipe_schema._distributor
                 , pipe_schema._precision
                 , pipe_schema._protection
                 , pipe_schema._status_name
                 , pipe_schema._status_active
                 , pipe_schema._pressurezone
                 , pipe_schema._pressurezone_shortname
                 , pipe_schema._consummerzone
                 , pipe_schema._pressurezone_colorcode
                 , pipe_schema._schema_view
                 , pipe_schema._length2d
                 , pipe_schema._length3d
                 , pipe_schema.number_of_pipe
                 , pipe_schema.tunnel_or_bridge
                 , pipe_schema._valve_count
                 , pipe_schema._valve_closed
                 , pipe_schema.geometry
                 , distribution.node_get_id
                 (st_startpoint
                       (pipe_schema.geometry)
                       , true
                 ) AS id_node_a
                 , distribution.node_get_id
                 (st_endpoint
                       (pipe_schema.geometry)
                       , true
                 ) AS id_node_b 
              FROM distribution.pipe_schema
           ) foo 
   LEFT JOIN distribution.node node_a 
          ON (
                 (foo.id_node_a = node_a.id)
           )
     )
LEFT JOIN distribution.node node_b 
    ON (
           (foo.id_node_b = node_b.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pipe-schema-temp">pipe_schema_temp</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema_temp Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_parent</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_install_method</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_material</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_precision</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_protection</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>pressure_nominale</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>folder</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_function_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_install_method</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_name</td>
            	<td>character varying(18)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_longname</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_diameter</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_diameter_internal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_distributor</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_precision</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_protection</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_status_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>number_of_pipe</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node_a</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_node_b</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_diff_elevation</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_slope</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-schema-viewableitems">pipe_schema_viewableitems</a>
		</h2>
        
         <p>viewable pipe in the schematic view (before merge)</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_schema_viewableitems Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_parent</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT pipe.id
, pipe.id_parent
, pipe._length2d
, pipe._length3d
, pipe.tunnel_or_bridge
, pipe.geometry_schematic AS geometry
, pipe_view._valve_count
, pipe_view._valve_closed 
FROM (distribution.pipe 
  JOIN distribution.pipe_view 
    ON (
           (pipe.id = pipe_view.id)
     )
)
WHERE (
     (pipe_view._schema_view IS TRUE)
   AND (pipe_view._status_active IS TRUE)
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.pipe-view">pipe_view</a>
		</h2>
        
         <p>View for pipe. This view is editable (a rule exists to forwad changes to the table). 
		schema_view is a boolean to define if the pipe is visible in the schematic view. This field is usually determined by the pipe&#39;s function attribute schema_view,
		but it can be overridden by the pipe&#39;s attribute schema_force_view.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pipe_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_parent</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_install_method</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_material</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_distributor</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_precision</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_protection</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tunnel_or_bridge</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>pressure_nominale</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>folder</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_node_a</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node_b</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_length2d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_length3d</td>
            	<td>numeric(8,2)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(LineString,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_function_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_install_method</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_name</td>
            	<td>character varying(18)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_longname</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_material_diameter</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_material_diameter_internal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_distributor</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_precision</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_protection</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_status_name</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_status_active</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_diff_elevation</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_slope</td>
            	<td>numeric</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_valve_count</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_valve_closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT pipe.id
, pipe.id_parent
, pipe.id_function
, pipe.id_install_method
, pipe.id_material
, pipe.id_distributor
, pipe.id_precision
, pipe.id_protection
, pipe.id_status
, pipe.schema_force_view
, pipe.year
, pipe.tunnel_or_bridge
, pipe.pressure_nominale
, pipe.folder
, pipe.remarks
, pipe.id_node_a
, pipe.id_node_b
, pipe.id_district
, pipe.id_pressurezone
, pipe.id_printmap
, pipe._length2d
, pipe._length3d
, pipe._printmaps
, pipe._districts
, pipe.geometry
, pipe_function.function AS _function_name
, pipe_install_method.name AS _install_method
, pipe_material._fancy_name AS _material_name
, pipe_material.name AS _material_longname
, pipe_material.diameter AS _material_diameter
, pipe_material.diameter_internal AS _material_diameter_internal
, distributor.name AS _distributor
,&quot;precision&quot;.name AS _precision
, pipe_protection.name AS _protection
, status.name AS _status_name
, status.active AS _status_active
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode
, CASE WHEN 
(pipe.schema_force_view IS NULL) THEN pipe_function.schema_view ELSE pipe.schema_force_view END AS _schema_view
, CASE WHEN 
(pipe.tunnel_or_bridge IS TRUE) THEN 
(0)::numeric ELSE abs
(
     (node_a.altitude_dtm - node_b.altitude_dtm)
) END AS _diff_elevation
, CASE WHEN 
(pipe.tunnel_or_bridge IS TRUE) THEN NULL::numeric ELSE 
(abs
     (
           (node_a.altitude_dtm - node_b.altitude_dtm)
     ) / pipe._length3d
) END AS _slope
, distribution.pipe_count_valve
(pipe.id) AS _valve_count
, distribution.pipe_isclosed
(pipe.id) AS _valve_closed 
FROM (
     (
           (
                 (
                       (
                             (
                                   (
                                         (
                                               (
                                                     (distribution.pipe 
                                                        JOIN distribution.pipe_function 
                                                          ON (
                                                                 (pipe.id_function = pipe_function.id)
                                                           )
                                                     )
                                                  JOIN distribution.pipe_install_method 
                                                    ON (
                                                           (pipe.id_install_method = pipe_install_method.id)
                                                     )
                                               )
                                            JOIN distribution.pipe_material 
                                              ON (
                                                     (pipe.id_material = pipe_material.id)
                                               )
                                         )
                                      JOIN distribution.distributor 
                                        ON (
                                               (pipe.id_distributor = distributor.id)
                                         )
                                   )
                                JOIN distribution.&quot;precision&quot;
                                  ON (
                                         (pipe.id_precision = &quot;precision&quot;.id)
                                   )
                             )
                     LEFT JOIN distribution.pipe_protection 
                            ON (
                                   (pipe.id_protection = pipe_protection.id)
                             )
                       )
                    JOIN distribution.status 
                      ON (
                             (pipe.id_status = status.id)
                       )
                 )
         LEFT JOIN distribution.pressurezone 
                ON (
                       (pipe.id_pressurezone = pressurezone.id)
                 )
           )
   LEFT JOIN distribution.node node_a 
          ON (
                 (pipe.id_node_a = node_a.id)
           )
     )
LEFT JOIN distribution.node node_b 
    ON (
           (pipe.id_node_b = node_b.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.precision">precision</a>
		</h2>
        
         <p>pressure &quot;precision&quot;.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>precision Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.pressurezone">pressurezone</a>
		</h2>
        
         <p>Pressure zones.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pressurezone Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Polygon,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation">installation</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.samplingpoint">samplingpoint</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.subscriber">subscriber</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.valve">valve</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       pressurezone_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.printmap">printmap</a>
		</h2>
        
         <p>This table is used for polygons for predefined printable maps. short_name would be used as label string, and long_mame would be used in the print composer.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>printmap Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>short_name</td>
            	<td>character varying(20)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>long_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>template</td>
            	<td>character varying(50)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_east</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_north</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Polygon,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       printmap_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.protectionzone">protectionzone</a>
		</h2>
        
         <p>protectionzones.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>protectionzone Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.protectionzone-type">protectionzone_type.id</a>
                  
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(40)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>validated</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>date</td>
            	<td>date</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>agent</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(MultiPolygon,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_protectionzone_id_type id_type
    
       protectionzone_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.protectionzone-type">protectionzone_type</a>
		</h2>
        
         <p>type for hydrant.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>protectionzone_type Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(50)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>shortname</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.protectionzone">protectionzone</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.samplingpoint">samplingpoint</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>samplingpoint Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.district">district.id</a>
                  
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pressurezone">pressurezone.id</a>
                  
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_samplingpoint_id_district id_district
    
       fki_samplingpoint_id_pressurezone id_pressurezone
    
       samplingpoint_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.samplingpoint-view">samplingpoint_view</a>
		</h2>
        
         <p>View for samplingpoint. This view is editable (a rule exists to forwad changes to the table).</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>samplingpoint_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_district</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT samplingpoint.id
, samplingpoint.sige
, samplingpoint.id_district
, samplingpoint.id_printmap
, samplingpoint.id_pressurezone
, samplingpoint._printmaps
, samplingpoint._districts
, samplingpoint.remarks
, samplingpoint.geometry
, district.name AS _district
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode 
FROM (
     (distribution.samplingpoint 
   LEFT JOIN distribution.district 
          ON (
                 (samplingpoint.id_district = district.id)
           )
     )
LEFT JOIN distribution.pressurezone 
    ON (
           (samplingpoint.id_pressurezone = pressurezone.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.search-view">search_view</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>search_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>layer_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>search_text</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
(
     (
      SELECT&#39;Ouvrage&#39;::text AS layer_name
           , (
                 (
                       (installation_view._type)::text || &#39; &#39;::text
                 ) || 
                 (installation_view.name)::text
           ) AS search_text
           , installation_view.geometry 
        FROM distribution.installation_view 
       WHERE (installation_view._status_active IS TRUE)
       UNIONSELECT&#39;Hydrantes&#39;::text AS layer_name
           , (
                 (
                       (hydrant_view._district)::text || &#39; &#39;::text
                 ) || 
                 (hydrant_view.sige)::text
           ) AS search_text
           , hydrant_view.geometry 
        FROM distribution.hydrant_view 
       WHERE (hydrant_view._status_active IS TRUE)
     )
 UNIONSELECT&#39;Abonnés&#39;::text AS layer_name
     , (
           (
                 (subscriber_view._type)::text || &#39; &#39;::text
           ) || subscriber_view.id_client_full
     ) AS search_text
     , subscriber_view.geometry 
  FROM distribution.subscriber_view
)
UNIONSELECT&#39;Vannes&#39;::text AS layer_name
, (
     (
           (valve_view._function)::text || &#39; &#39;::text
     ) || valve_view.sige
) AS search_text
, valve_view.geometry 
FROM distribution.valve_view 
WHERE (valve_view.sige IS NOT NULL);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.status">status</a>
		</h2>
        
         <p>Status table, with SIRE id.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>status Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>status</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>active</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sire</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>comment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.hydrant">hydrant</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation">installation</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation-tank">installation_tank</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.installation-tank-cistern">installation_tank_cistern</a></li>
			</ul>
		
			<ul>
				<li><a href="#distribution.table.pipe">pipe</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.subscriber">subscriber</a>
		</h2>
        
         <p>Table for subscriber. This should not be used for editing/viewing, as a more complete view (subscriber_view) exists.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>subscriber Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.subscriber-type">subscriber_type.id</a>
                  
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pipe">pipe.id</a>
                  
                
                </td>
            	<td>id_pipe</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_client</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parcel</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.district">district.id</a>
                  
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pressurezone">pressurezone.id</a>
                  
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_id_pipe id_pipe
    
       fki_id_type id_type
    
       fki_subscriber_id_district id_district
    
       fki_subscriber_id_pressurezone id_pressurezone
    
       subscriber_geoidx geometry
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.subscriber-type">subscriber_type</a>
		</h2>
        
         <p>type for subscriber.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>subscriber_type Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>short_name</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.subscriber">subscriber</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.subscriber-view">subscriber_view</a>
		</h2>
        
         <p>View for subscriber. This view is editable (a rule exists to forward changes to the table).</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>subscriber_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pipe</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_client</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parcel</td>
            	<td>character varying(12)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_type</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_district</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_client_full</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT subscriber.id
, subscriber.id_type
, subscriber.id_pipe
, subscriber.id_client
, subscriber.parcel
, subscriber.id_district
, subscriber.id_pressurezone
, subscriber.id_printmap
, subscriber._printmaps
, subscriber._districts
, subscriber.geometry
, subscriber_type.name AS _type
, district.name AS _district
, (
     (
           (district.subscriber_prefix)::text || &#39;-&#39;::text
     ) || 
     (subscriber.id_client)::text
) AS id_client_full
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode 
FROM (
     (
           (distribution.subscriber 
              JOIN distribution.subscriber_type 
                ON (
                       (subscriber.id_type = subscriber_type.id)
                 )
           )
   LEFT JOIN distribution.district 
          ON (
                 (subscriber.id_district = district.id)
           )
     )
LEFT JOIN distribution.pressurezone 
    ON (
           (subscriber.id_pressurezone = pressurezone.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.valve">valve</a>
		</h2>
        
         <p>Table for valve.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>valve Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.valve-type">valve_type.id</a>
                  
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.valve-function">valve_function.id</a>
                  
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_maintenance</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.pipe">pipe.id</a>
                  
                
                </td>
            	<td>id_pipe</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>diameter_nominal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.node">node.id</a>
                  
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#distribution.table.district">district.id</a>
                  
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#distribution.table.pressurezone">pressurezone.id</a>
                  
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry_schematic</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>valve Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>valve_year_check</td>
                <td>CHECK (((year &gt; 1800) AND (year &lt; 2100)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       fki_valve_id_district id_district
    
       fki_valve_id_function id_function
    
       fki_valve_id_node id_node
    
       fki_valve_id_pipe id_pipe
    
       fki_valve_id_pressurezone id_pressurezone
    
       fki_valve_id_type id_type
    
       valve_geoidx geometry
    
       valve_geoidx_sch geometry_schematic
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.valve-function">valve_function</a>
		</h2>
        
         <p>Types of valve</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>valve_function Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>function</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>shortname</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.valve">valve</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.valve-maintenance">valve_maintenance</a>
		</h2>
        
         <p>valve_maintenance table.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>valve_maintenance Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>character varying(35)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>comment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>valve_maintenance Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>valve_maintenance_priority_check</td>
                <td>CHECK (((priority &gt; 0) AND (priority &lt; 4)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.valve-schema">valve_schema</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>valve_schema Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pipe</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_maintenance</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>diameter_nominal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_function</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_function_shortname</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_type</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_altitude_dtm</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_district</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT valve.id
, valve.sige
, valve.id_type
, valve.id_function
, valve.id_pipe
, valve.id_maintenance
, valve.diameter_nominal
, valve.year
, valve.closed
, valve.altitude_real
, valve.remarks
, valve.schema_force_view
, valve.id_node
, valve.id_district
, valve.id_pressurezone
, valve._districts
, valve._printmaps
, valve.geometry_schematic AS geometry
, valve_function.function AS _function
, valve_function.shortname AS _function_shortname
, valve_type.type AS _type
, CASE WHEN 
(valve_function.shortname IS NULL) THEN 
(
     (valve.sige)::character varying
)::text ELSE 
(
     (valve_function.shortname)::text || 
     (
           (valve.sige)::character varying
     )::text
) END AS _label
, node.altitude_dtm AS _altitude_dtm
, district.name AS _district
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode 
FROM (
     (
           (
                 (
                       (distribution.valve 
                          JOIN distribution.valve_type 
                            ON (
                                   (valve.id_function = valve_type.id)
                             )
                       )
                    JOIN distribution.valve_function 
                      ON (
                             (valve.id_function = valve_function.id)
                       )
                 )
         LEFT JOIN distribution.node 
                ON (
                       (valve.id_node = node.id)
                 )
           )
   LEFT JOIN distribution.district 
          ON (
                 (valve.id_district = district.id)
           )
     )
LEFT JOIN distribution.pressurezone 
    ON (
           (valve.id_pressurezone = pressurezone.id)
     )
)
WHERE (
     (valve.schema_force_view IS TRUE)
    OR (
           (valve.schema_force_view IS NULL)
         AND (valve_function.schema_view IS TRUE)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.valve-type">valve_type</a>
		</h2>
        
         <p>Types of valve</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>valve_type Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>type</td>
            	<td>character varying(30)</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#distribution.table.valve">valve</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>View:
			<a name="distribution.view.valve-view">valve_view</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>valve_view Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sige</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_type</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_function</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_maintenance</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_pipe</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>diameter_nominal</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>year</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>closed</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>altitude_real</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>remarks</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_force_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_node</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_district</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>id_pressurezone</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>id_printmap</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_printmaps</td>
            	<td>character varying(100)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_districts</td>
            	<td>character varying(255)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geometry</td>
            	<td>geometry(Point,21781)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_function</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_function_shortname</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_type</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_schema_view</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_altitude_dtm</td>
            	<td>numeric(10,3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_district</td>
            	<td>character varying(40)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_pressurezone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_shortname</td>
            	<td>character varying(10)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>_consummerzone</td>
            	<td>character varying(30)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>_pressurezone_colorcode</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT valve.id
, valve.sige
, valve.id_type
, valve.id_function
, valve.id_maintenance
, valve.id_pipe
, valve.diameter_nominal
, valve.year
, valve.closed
, valve.altitude_real
, valve.remarks
, valve.schema_force_view
, valve.id_node
, valve.id_district
, valve.id_pressurezone
, valve.id_printmap
, valve._printmaps
, valve._districts
, valve.geometry
, valve_function.function AS _function
, valve_function.shortname AS _function_shortname
, valve_type.type AS _type
, CASE WHEN 
(valve_function.shortname IS NULL) THEN 
(
     (valve.sige)::character varying
)::text ELSE 
(
     (valve_function.shortname)::text || 
     (
           (valve.sige)::character varying
     )::text
) END AS _label
, CASE WHEN 
(valve.schema_force_view IS NULL) THEN valve_function.schema_view ELSE valve.schema_force_view END AS _schema_view
, node.altitude_dtm AS _altitude_dtm
, district.name AS _district
, pressurezone.name AS _pressurezone
, pressurezone.shortname AS _pressurezone_shortname
, pressurezone.consummerzone AS _consummerzone
, pressurezone.colorcode AS _pressurezone_colorcode 
FROM (
     (
           (
                 (
                       (distribution.valve 
                          JOIN distribution.valve_type 
                            ON (
                                   (valve.id_type = valve_type.id)
                             )
                       )
                    JOIN distribution.valve_function 
                      ON (
                             (valve.id_function = valve_function.id)
                       )
                 )
         LEFT JOIN distribution.node 
                ON (
                       (valve.id_node = node.id)
                 )
           )
   LEFT JOIN distribution.district 
          ON (
                 (valve.id_district = district.id)
           )
     )
LEFT JOIN distribution.pressurezone 
    ON (
           (valve.id_pressurezone = pressurezone.id)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	
        <hr>
		<h2>Table:
			<a name="distribution.table.visible">visible</a>
		</h2>
        
         <p>Table for editing in qgis tri state boolean (NULL/True/False) by using value relation.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>visible Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>x</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>id</td>
            	<td>boolean</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name</td>
            	<td>character varying(50)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#distribution.schema">Schema distribution</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.dimension-geom">dimension_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Fcn/Trigger: updates the map distance between the two extremities of the arc.</p>
        <pre> 
	BEGIN
		UPDATE distribution.dimension SET 
			_distance_terrain = ST_Distance( ST_GeometryN(NEW.geometry,1) , ST_GeometryN(NEW.geometry,ST_NumGeometries(NEW.geometry)) )
		WHERE id = NEW.id ;
		RETURN NEW;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.geom-tool-line-character-varying">geom_tool_line(character varying)</a>
		</h2>
<h3>Returns: void</h3>
<h3>Language: PLPGSQL</h3>
        <p>Create geometric columns, constraint and triggers for tables with line items.</p>
        <pre>
	DECLARE
		table_name ALIAS for $1;
	BEGIN
		/* Creates columns */
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_node_a       integer   ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_node_b       integer   ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_district     integer   ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_pressurezone integer   ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_printmap     integer[] ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN _length2d       decimal(8,2) ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN _length3d       decimal(8,2) ;&#39;;	
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN _printmaps      varchar(100) ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN _districts      varchar(255) ;&#39;;
			
		/* Enables geometry */
		PERFORM addGeometryColumn(&#39;distribution&#39;, table_name, &#39;geometry&#39;, 21781, &#39;LINESTRING&#39;, 2);
		PERFORM addGeometryColumn(&#39;distribution&#39;, table_name, &#39;geometry_schematic&#39;, 21781, &#39;LINESTRING&#39;, 2);
		EXECUTE &#39;CREATE INDEX &#39;||table_name||&#39;_geoidx     ON distribution.&#39;||table_name||&#39; USING GIST ( geometry );&#39;;
		EXECUTE &#39;CREATE INDEX &#39;||table_name||&#39;_geoidx_sch ON distribution.&#39;||table_name||&#39; USING GIST ( geometry_schematic );&#39;;		

		/* Add constraints and indexes */
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_node_a       FOREIGN KEY (id_node_a)       REFERENCES distribution.node(id)         MATCH SIMPLE;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_node_b       FOREIGN KEY (id_node_b)       REFERENCES distribution.node(id)         MATCH SIMPLE;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_district     FOREIGN KEY (id_district)     REFERENCES distribution.district(id)     MATCH SIMPLE;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_pressurezone FOREIGN KEY (id_pressurezone) REFERENCES distribution.pressurezone(id) MATCH SIMPLE;&#39;;
		EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_node_a       ON distribution.&#39;||table_name||&#39;(id_node_a);&#39;;
		EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_node_b       ON distribution.&#39;||table_name||&#39;(id_node_b);&#39;;
		EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_district     ON distribution.&#39;||table_name||&#39;(id_district);&#39;;
		EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_pressurezone ON distribution.&#39;||table_name||&#39;(id_pressurezone);&#39;;
		
		/* Geometric triggers */
		EXECUTE &#39;
			CREATE OR REPLACE FUNCTION distribution.&#39;||table_name||&#39;_geom() RETURNS TRIGGER AS
				&#39;&#39;
				BEGIN
					UPDATE distribution.&#39;||table_name||&#39; SET
						id_node_a          = distribution.node_get_id(ST_StartPoint(NEW.geometry),true),
						id_node_b          = distribution.node_get_id(ST_EndPoint(  NEW.geometry),true),
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						geometry_schematic = NEW.geometry,
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry),
						_length2d          = ST_Length(NEW.geometry),
						_length3d          = NULL
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				&#39;&#39;
				LANGUAGE &#39;&#39;plpgsql&#39;&#39;;		
		&#39;;
		
		EXECUTE &#39;CREATE TRIGGER &#39;||table_name||&#39;_geom_trigger_insert
			AFTER INSERT ON distribution.&#39;||table_name||&#39;
			FOR EACH ROW
			EXECUTE PROCEDURE distribution.&#39;||table_name||&#39;_geom();&#39;;
		EXECUTE &#39;COMMENT ON TRIGGER &#39;||table_name||&#39;_geom_trigger_insert ON distribution.&#39;||table_name||&#39; IS &#39;&#39;Trigger: updates auto fields of the &#39;||table_name||&#39; after insert.&#39;&#39;;&#39;;

		EXECUTE &#39;CREATE TRIGGER &#39;||table_name||&#39;_geom_trigger_update
			AFTER UPDATE OF geometry ON distribution.&#39;||table_name||&#39; 
			FOR EACH ROW
			WHEN (ST_AsBinary(NEW.geometry) &lt;&gt; ST_AsBinary(OLD.geometry))
			EXECUTE PROCEDURE distribution.&#39;||table_name||&#39;_geom();&#39;;
		EXECUTE &#39;COMMENT ON TRIGGER &#39;||table_name||&#39;_geom_trigger_update ON distribution.&#39;||table_name||&#39; IS &#39;&#39;Trigger: updates auto fields of the &#39;||table_name||&#39; after geom update.&#39;&#39;;&#39;;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.geom-tool-point-create-schematic-character-varying-create-node-boolean-is-node-boolean-table-name-boolean">geom_tool_point(create_schematic character varying, create_node boolean, is_node boolean, table_name boolean)</a>
		</h2>
<h3>Returns: void</h3>
<h3>Language: PLPGSQL</h3>
        <p>Create geometric columns, constraint and triggers for tables with point on node items. Second argument determines if node has to be created or not of not found.</p>
        <pre>
	DECLARE
		sql_trigger varchar;
	BEGIN
		/* Creates columns */
		IF is_node IS TRUE THEN
			EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_node         integer   ;&#39;;
		END IF;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_district     integer   ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_pressurezone integer   ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN id_printmap     integer[] ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN _printmaps      varchar(100) ;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD COLUMN _districts      varchar(255) ;&#39;;
		
		/* Enables geometry */
		PERFORM addGeometryColumn(&#39;distribution&#39;, table_name, &#39;geometry&#39;, 21781, &#39;POINT&#39;, 2);
		EXECUTE &#39;CREATE INDEX &#39;||table_name||&#39;_geoidx     ON distribution.&#39;||table_name||&#39; USING GIST ( geometry );&#39;;
		IF create_schematic IS TRUE THEN
			PERFORM addGeometryColumn(&#39;distribution&#39;, table_name, &#39;geometry_schematic&#39;, 21781, &#39;POINT&#39;, 2);
			EXECUTE &#39;CREATE INDEX &#39;||table_name||&#39;_geoidx_sch ON distribution.&#39;||table_name||&#39; USING GIST ( geometry_schematic );&#39;;		
		END IF;
				
		/* Add constraints and indexes */
		IF is_node IS TRUE THEN
			EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_node         FOREIGN KEY (id_node)         REFERENCES distribution.node(id)         MATCH SIMPLE;&#39;;
		END IF;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_district     FOREIGN KEY (id_district)     REFERENCES distribution.district(id)     MATCH SIMPLE;&#39;;
		EXECUTE &#39;ALTER TABLE distribution.&#39;||table_name||&#39; ADD CONSTRAINT &#39;||table_name||&#39;_id_pressurezone FOREIGN KEY (id_pressurezone) REFERENCES distribution.pressurezone(id) MATCH SIMPLE;&#39;;
		IF is_node IS TRUE THEN
			EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_node     ON distribution.&#39;||table_name||&#39;(id_node);&#39;;
		END IF;
		EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_district     ON distribution.&#39;||table_name||&#39;(id_district);&#39;;
		EXECUTE &#39;CREATE INDEX fki_&#39;||table_name||&#39;_id_pressurezone ON distribution.&#39;||table_name||&#39;(id_pressurezone);&#39;;
		
		/* Geometric triggers */
		sql_trigger := &#39;CREATE OR REPLACE FUNCTION distribution.&#39;||table_name||&#39;_geom() RETURNS TRIGGER AS
				&#39;&#39;
				BEGIN
					UPDATE distribution.&#39;||table_name||&#39; SET&#39;;
		IF is_node IS TRUE AND create_node IS TRUE THEN
			sql_trigger := sql_trigger || &#39;
						id_node            = distribution.node_get_id(NEW.geometry,&#39;||create_node||&#39;),
			&#39;;
		END IF;
		sql_trigger := sql_trigger || &#39;
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),&#39;;
		IF create_schematic IS TRUE THEN
			sql_trigger := sql_trigger || &#39;
						geometry_schematic = NEW.geometry,
			&#39;;
		END IF;
		sql_trigger := sql_trigger || &#39;
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry)
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				&#39;&#39;
				LANGUAGE &#39;&#39;plpgsql&#39;&#39;;		
		&#39;;
		EXECUTE sql_trigger;
		
		EXECUTE &#39;CREATE TRIGGER &#39;||table_name||&#39;_geom_trigger_insert
			AFTER INSERT ON distribution.&#39;||table_name||&#39;
			FOR EACH ROW
			EXECUTE PROCEDURE distribution.&#39;||table_name||&#39;_geom();&#39;;
		EXECUTE &#39;COMMENT ON TRIGGER &#39;||table_name||&#39;_geom_trigger_insert ON distribution.&#39;||table_name||&#39; IS &#39;&#39;Trigger: updates auto fields of the &#39;||table_name||&#39; after insert.&#39;&#39;;&#39;;

		EXECUTE &#39;CREATE TRIGGER &#39;||table_name||&#39;_geom_trigger_update
			AFTER UPDATE OF geometry ON distribution.&#39;||table_name||&#39; 
			FOR EACH ROW
			WHEN (ST_AsBinary(NEW.geometry) &lt;&gt; ST_AsBinary(OLD.geometry))
			EXECUTE PROCEDURE distribution.&#39;||table_name||&#39;_geom();&#39;;
		EXECUTE &#39;COMMENT ON TRIGGER &#39;||table_name||&#39;_geom_trigger_update ON distribution.&#39;||table_name||&#39; IS &#39;&#39;Trigger: updates auto fields of the &#39;||table_name||&#39; after geom update.&#39;&#39;;&#39;;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.get-district-id-public.geometry">get_district_id(public.geometry)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns the id of the first overlapping district.</p>
        <pre>
	DECLARE
		geom ALIAS FOR $1;
		id_district integer;
	BEGIN
		SELECT district.id INTO id_district
			FROM  distribution.district
			WHERE ST_Intersects(geom,district.geometry) IS TRUE
			LIMIT 1;
		RETURN id_district;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.get-districts-public.geometry">get_districts(public.geometry)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns a coma separeted list of the districts overlapping the given geometry.</p>
        <pre>
	DECLARE
		geom ALIAS FOR $1;
		result text;
	BEGIN
		SELECT string_agg(district.name , &#39;, &#39;) INTO result
			FROM  distribution.district
			WHERE ST_Intersects(geom,district.geometry) IS TRUE;
		RETURN result;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.get-parent-integer-integer">get_parent(integer, integer)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        <p>Function to get a group ID (parent/children). Also works in case of sub-parent</p>
        <pre>
	DECLARE
		childid ALIAS FOR $1;
		parentid ALIAS FOR $2;
	BEGIN
		IF parentid IS NULL THEN
			RETURN childid;
		END IF;
		LOOP
			SELECT id_parent INTO childid 
			FROM distribution.pipe_schema_viewableitems
			WHERE id = parentid;

			IF childid IS NOT NULL THEN
				parentid := childid;
			ELSE
				RETURN parentid;
			END IF;
		END LOOP;
	END
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.get-pressurezone-id-public.geometry">get_pressurezone_id(public.geometry)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns the id of the first overlapping pressurezone.</p>
        <pre> 
	DECLARE
		geom ALIAS FOR $1;
		id_pressurezone integer;
	BEGIN
		SELECT pressurezone.id INTO id_pressurezone
			FROM  distribution.pressurezone
			WHERE ST_Intersects(geom,pressurezone.geometry) IS TRUE
			ORDER BY ST_Length(ST_Intersection(geom,pressurezone.geometry)) DESC
			LIMIT 1;
		RETURN id_pressurezone;
	END
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.get-printmap-id-public.geometry">get_printmap_id(public.geometry)</a>
		</h2>
<h3>Returns: integer[]</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns the id of the first overlapping printmap.</p>
        <pre>
	DECLARE
		geom ALIAS FOR $1;
	BEGIN
		RETURN ARRAY( SELECT printmap.id FROM  distribution.printmap WHERE ST_Intersects(geom,printmap.geometry) IS TRUE);
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.get-printmaps-public.geometry">get_printmaps(public.geometry)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns a string contaning all the short names of the polygons in table printmap which overlap the given geometry.</p>
        <pre>
	DECLARE
		geom ALIAS FOR $1;
		result text;
	BEGIN
		SELECT string_agg(printmap.short_name , &#39;, &#39;) INTO result
			FROM  distribution.printmap
			WHERE ST_Intersects(geom,printmap.geometry) IS TRUE;
		RETURN result;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.hydrant-geom">hydrant_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
				BEGIN
					UPDATE distribution.hydrant SET
						id_node            = distribution.node_get_id(NEW.geometry,true),
			
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						geometry_schematic = NEW.geometry,
			
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry)
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.installation-geom">installation_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
				BEGIN
					UPDATE distribution.installation SET
						id_node            = distribution.node_get_id(NEW.geometry,true),
			
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						geometry_schematic = NEW.geometry,
			
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry)
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.node-altitude">node_altitude()</a>
		</h2>
<h3>Returns: void</h3>
<h3>Language: PLPGSQL</h3>
        <p>Fill the altitude of the node.</p>
        <pre>
	BEGIN
		UPDATE distribution.node SET altitude_dtm = altitude.altitude(geometry) WHERE altitude_dtm IS NULL ;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.node-geom">node_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Fcn/Trigger: set uptodate to false for altitude when geometry changes.</p>
        <pre> 
	BEGIN
		UPDATE distribution.node SET
			altitude_dtm = NULL
		WHERE id = NEW.id ;
		RETURN NEW;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.node-get-id-public.geometry-boolean">node_get_id(public.geometry, boolean)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns the node for a given geometry (point). If node does not exist and if specified in argument, it is created.</p>
        <pre>
	DECLARE
		point ALIAS for $1;
		place_node ALIAS for $2;
		node_id integer;
	BEGIN
		SELECT id FROM distribution.node WHERE ST_DWithin(point,geometry,0) IS TRUE LIMIT 1 INTO node_id;
		IF node_id IS NULL AND place_node IS TRUE THEN
			INSERT INTO distribution.node (geometry) VALUES (point);
			SELECT id FROM distribution.node WHERE ST_DWithin(point,geometry,0) IS TRUE LIMIT 1 INTO node_id;
		END IF;
		RETURN node_id;	
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.node-set-type">node_set_type()</a>
		</h2>
<h3>Returns: void</h3>
<h3>Language: PLPGSQL</h3>
        <p>Set the type and orientation for node. If three pipe arrives at the node: intersection. If one pipe: end. If two: depends on characteristics of pipe: year (is different), material (and year), diameter(and material/year)</p>
        <pre>
	DECLARE
		node record;
	BEGIN
		FOR node IN SELECT id FROM distribution.node ORDER BY id LOOP
			PERFORM distribution.node_type(node.id);
		END LOOP;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.node-type-integer">node_type(integer)</a>
		</h2>
<h3>Returns: void</h3>
<h3>Language: PLPGSQL</h3>
        <p>Set the orientation and type for a node. If three pipe arrives at the node: intersection. If one pipe: end. If two: depends on characteristics of pipe: year (is different), material (and year), diameter(and material/year)</p>
        <pre>
	DECLARE
		node_id     ALIAS FOR $1         ;
		pipeitem    RECORD               ;
		grouped     RECORD               ;
		Tyear       INTEGER              ;
		Tmaterial   VARCHAR(30)          ;
		Tdiameter   VARCHAR(10)          ;
		i           INTEGER          := 0;
		type        VARCHAR(20)          ;
		ori1        DOUBLE PRECISION := 0;
		ori2        DOUBLE PRECISION := 0;
		orientation FLOAT            := 0;
	BEGIN
		SELECT 
			COUNT(pipe_view.id)               AS count         ,
			bool_or(pipe_view._schema_view)   AS schema_view   ,
			bool_or(pipe_view._status_active) AS status_active
			INTO grouped 
			FROM distribution.pipe_view 
			WHERE (id_node_a = node_id OR id_node_b = node_id);
		IF grouped.count = 0 THEN
			IF node_id IN (SELECT id_node FROM distribution.valve) THEN
				type := &#39;valve&#39;;
			ELSEIF node_id IN (SELECT id_node FROM distribution.installation) THEN
				type := &#39;installation&#39;;
			ELSEIF node_id IN (SELECT id_node FROM distribution.hydrant) THEN
				type := &#39;hydrant&#39;;
			ELSE
				RAISE NOTICE &#39;Delete node %&#39; , node_id ;
				DELETE FROM distribution.node WHERE id = node_id ;
			END IF;
		ELSEIF grouped.count = 1 THEN
			type := &#39;one&#39;;
		ELSEIF grouped.count = 2 THEN
			FOR pipeitem IN (
				SELECT year,_material_longname,_material_diameter,ST_PointN(geometry,2)                      AS point_1 , ST_StartPoint(geometry) AS point_2 FROM distribution.pipe_view WHERE id_node_a = node_id
				UNION ALL
				SELECT year,_material_longname,_material_diameter,ST_PointN(geometry,ST_NPoints(geometry)-1) AS point_1 , ST_EndPoint(  geometry) AS point_2 FROM distribution.pipe_view WHERE id_node_b = node_id
			) LOOP
				IF i=0 THEN
					Tyear     := pipeitem.year;
					Tmaterial := pipeitem._material_longname;
					Tdiameter := pipeitem._material_diameter;
					i := 1;
					SELECT  ST_Azimuth(pipeitem.point_1,pipeitem.point_2) INTO ori1 ;
				ELSE
					type := &#39;two_same&#39;;
					IF Tyear     != pipeitem.year               THEN type := &#39;two_year&#39;    ; END IF;
					IF Tmaterial != pipeitem._material_longname THEN type := &#39;two_material&#39;; END IF;
					IF Tdiameter != pipeitem._material_diameter THEN type := &#39;two_diameter&#39;; END IF;
					SELECT ST_Azimuth(pipeitem.point_1,pipeitem.point_2) INTO ori2 ;
					SELECT degrees( ATAN2( (SIN(ori1)+SIN(ori2))/2 , (COS(ori1)+COS(ori2))/2 ) ) INTO orientation;
				END IF;
			END LOOP;
		ELSEIF grouped.count &gt; 2 THEN
			type := &#39;three&#39;;
		END IF;
		UPDATE distribution.node SET 
			_type          = type,
			_orientation   = orientation,
			_schema_view   = grouped.schema_view,
			_status_active = grouped.status_active
			WHERE id = node_id;
		/*RAISE NOTICE &#39;% %&#39; , node_id , orientation;*/
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-count-valve-integer">pipe_count_valve(integer)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        <p>Determine if a pipe is closed by a valve or not.</p>
        <pre>
	DECLARE
		pipe_id ALIAS for $1;
		valve_count integer;
	BEGIN
		SELECT COUNT(id) FROM distribution.valve WHERE id_pipe = pipe_id INTO valve_count;
		RETURN valve_count ;
	END
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-geom">pipe_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
				BEGIN
					UPDATE distribution.pipe SET
						id_node_a          = distribution.node_get_id(ST_StartPoint(NEW.geometry),true),
						id_node_b          = distribution.node_get_id(ST_EndPoint(  NEW.geometry),true),
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						geometry_schematic = NEW.geometry,
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry),
						_length2d          = ST_Length(NEW.geometry),
						_length3d          = NULL
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-get-id-public.geometry">pipe_get_id(public.geometry)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns the pipe at a given position. If several pipe, return NULL.</p>
        <pre>
	DECLARE
		point ALIAS for $1;
		pipe_id integer;
		distance_threshold double precision := 0.000001;
		number_of_pipe integer;
	BEGIN
		SELECT COUNT(id) FROM distribution.pipe WHERE ST_DWithin(point,geometry,distance_threshold) INTO number_of_pipe;
		IF number_of_pipe != 1 THEN
			RETURN NULL ;
		ELSE 
			SELECT id FROM distribution.pipe WHERE ST_DWithin(point,geometry,distance_threshold) INTO pipe_id ;
			RETURN pipe_id;	
		END IF;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-isclosed-integer">pipe_isclosed(integer)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
	DECLARE
		pipe_id ALIAS for $1;
		isClosed boolean;
	BEGIN
		SELECT bool_or(closed) FROM distribution.valve WHERE id_pipe = pipe_id INTO isClosed;
		RETURN isClosed ;
	END
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-length3d">pipe_length3d()</a>
		</h2>
<h3>Returns: void</h3>
<h3>Language: PLPGSQL</h3>
        <p>Fill the 3d length of the pipe.</p>
        <pre>
	DECLARE
		length double precision;
		pipeitem RECORD;
	BEGIN
		FOR pipeitem IN SELECT id,geometry,tunnel_or_bridge FROM distribution.pipe WHERE _length3d IS NULL ORDER BY id LOOP
			IF pipeitem.tunnel_or_bridge IS TRUE THEN
				length := pipeitem._length2d;
			ELSE
				RAISE NOTICE &#39;%&#39;, pipeitem.id;
				SELECT altitude.length3d(pipeitem.geometry) INTO length;
			END IF;
			UPDATE distribution.pipe SET _length3d = length WHERE id = pipeitem.id;
		END LOOP;
	END
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-material-fancy-name">pipe_material_fancy_name()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Fcn/Trigger: updates the fancy name in the material table.</p>
        <pre> 
	BEGIN
		 UPDATE distribution.pipe_material SET _fancy_name = NEW.short_name||&#39; &#39;||NEW.diameter WHERE id = NEW.id ;
		 RETURN NEW;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.pipe-tunnelbridge">pipe_tunnelbridge()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre> 
	BEGIN
		UPDATE distribution.pipe SET _length3d = _length2d WHERE id = NEW.id AND NEW.tunnel_or_bridge IS TRUE;
		UPDATE distribution.pipe SET _length3d = NULL      WHERE id = NEW.id AND NEW.tunnel_or_bridge IS FALSE;
		RETURN NEW;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.printmap-geom">printmap_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Fcn/Trigger: updates the size of the bounding box into width/length fields.</p>
        <pre> 
	BEGIN
		UPDATE distribution.printmap SET 
			_east   = ST_XMax(BOX2D(NEW.geometry))-ST_XMin(BOX2D(NEW.geometry)),
			_north  = ST_YMax(BOX2D(NEW.geometry))-ST_YMin(BOX2D(NEW.geometry))
		WHERE id = NEW.id ;
		RETURN NEW;
	END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.samplingpoint-geom">samplingpoint_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
				BEGIN
					UPDATE distribution.samplingpoint SET
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry)
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.subscriber-geom">subscriber_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
				BEGIN
					UPDATE distribution.subscriber SET
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry)
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.table-fields-character-varying">table_fields(character varying)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
	DECLARE
		ftable ALIAS FOR $1;
		result text;
	BEGIN
		SELECT distribution.table_fields(ftable,&#39;&#39;&#39;&#39;) INTO result;
		RETURN result;
	END			;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.table-fields-exclude-character-varying-character-varyingARRAY">table_fields(exclude character varying,  character varying[])</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns field names from a table.</p>
        <pre>
	DECLARE
		ftable ALIAS FOR $1;
		result text;
	BEGIN
		SELECT
			string_agg(pg_attribute.attname , &#39;&#39;, &#39;&#39;) INTO result
		FROM
			pg_class, pg_attribute
		WHERE
			pg_class.relname = ftable 
			AND pg_class.oid = pg_attribute.attrelid 
			AND pg_attribute.attnum &gt; 0
			AND pg_attribute.attname != all(exclude)
		;
		RETURN result;
	END
</pre>
	
		<hr>
		<h2>Function:
			<a href="#distribution.schema"><a name="distribution.function.valve-geom">valve_geom()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
				BEGIN
					UPDATE distribution.valve SET
						id_district        = distribution.get_district_id(NEW.geometry),
						id_pressurezone    = distribution.get_pressurezone_id(NEW.geometry),
						id_printmap        = distribution.get_printmap_id(NEW.geometry),
						geometry_schematic = NEW.geometry,
			
						_printmaps         = distribution.get_printmaps(NEW.geometry),
						_districts         = distribution.get_districts(NEW.geometry)
						WHERE id = NEW.id ;
					RETURN NEW;				
				END;
				</pre>
	


<p class="w3ref">Generated by <a href="http://www.rbt.ca/autodoc/">PostgreSQL Autodoc</a></p>
<p class="w3ref"><a href="http://validator.w3.org/check/referer">W3C HTML 4.01 Strict</a></p>
</body></html>
